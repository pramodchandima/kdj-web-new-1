<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Redesign - [Your Brand Name] - Single File</title>

    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>

    <link rel="icon" href="data:;base64,iVBORw0KGgo=">

    <style>
        /* Import a modern font (optional - ensure font loading strategy) */
        /* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap'); */

        body {
            /* If using a custom font */
            /* font-family: 'Inter', sans-serif; */

            /* Smooth scrolling behavior */
            scroll-behavior: smooth;
            /* Ensure body takes at least full height */
            min-height: 100vh;
        }

        /* Style the canvas containers */
        #threejs-canvas-container,
        #p5js-canvas-container {
            position: fixed; /* Keep them fixed in the background */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place behind content */
            pointer-events: none; /* Prevent them from interfering with clicks */
            overflow: hidden; /* Prevent scrollbars on canvas containers */
        }

        #threejs-canvas-container {
            z-index: -1; /* Three.js layer */
            /* Add transition for potential opacity changes */
            transition: opacity 0.5s ease-in-out;
        }

        #p5js-canvas-container {
            z-index: -2; /* p5.js layer further back */
            opacity: 0.3; /* Make p5 more subtle by default */
             /* Add transition for potential opacity changes */
            transition: opacity 0.5s ease-in-out;
        }

        /* Ensure canvases fill their containers */
        #threejs-canvas-container canvas,
        #p5js-canvas-container canvas {
            display: block;
            width: 100% !important; /* Override potential inline styles */
            height: 100% !important;
        }

        /* Add subtle animations for section reveals (requires JS IntersectionObserver) */
        .section-hidden {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .section-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom gradient text animation */
        @keyframes pulse-text {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
        }

        .animate-pulse { /* Overriding Tailwind's pulse if needed, or use a custom name */
            animation: pulse-text 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* Custom scrollbar (optional, webkit only) */
        ::-webkit-scrollbar {
          width: 8px;
        }

        ::-webkit-scrollbar-track {
          background: #1f2937; /* gray-800 */
        }

        ::-webkit-scrollbar-thumb {
          background: #06b6d4; /* cyan-500 */
          border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
          background: #0891b2; /* cyan-600 */
        }

        /* Enhance focus states for accessibility */
        *:focus-visible {
            outline: 2px solid #22d3ee; /* cyan-400 */
            outline-offset: 2px;
            border-radius: 2px; /* Optional: Makes outline less sharp */
        }
        /* Ensure form inputs get the visible outline too */
        input:focus-visible, textarea:focus-visible, select:focus-visible {
             outline: 2px solid #22d3ee; /* cyan-400 */
            outline-offset: 2px;
            border-radius: 2px;
        }
        /* Remove default outline when focus-visible is supported */
        *:focus:not(:focus-visible) {
            outline: none;
        }

    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js" defer></script>

</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased relative overflow-x-hidden">

    <div id="threejs-canvas-container"></div>
    <div id="p5js-canvas-container"></div>

    <header class="sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md shadow-lg">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-cyan-400 hover:text-cyan-300 transition duration-300">
                YourBrand
            </a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#hero" class="text-gray-300 hover:text-cyan-400 transition duration-300">Home</a>
                <a href="#about" class="text-gray-300 hover:text-cyan-400 transition duration-300">About</a>
                <a href="#services" class="text-gray-300 hover:text-cyan-400 transition duration-300">Services</a>
                <a href="#portfolio" class="text-gray-300 hover:text-cyan-400 transition duration-300">Work</a>
                <a href="#contact" class="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-full transition duration-300">
                    Contact Us
                </a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-300 hover:text-cyan-400 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-gray-800/90 backdrop-blur-sm">
            <a href="#hero" class="block px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-cyan-400">Home</a>
            <a href="#about" class="block px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-cyan-400">About</a>
            <a href="#services" class="block px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-cyan-400">Services</a>
            <a href="#portfolio" class="block px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-cyan-400">Work</a>
            <a href="#contact" class="block px-6 py-3 bg-cyan-500 text-white text-center font-bold hover:bg-cyan-600 m-2 rounded">Contact Us</a>
        </div>
    </header>

    <main class="relative z-10">

        <section id="hero" class="min-h-screen flex items-center justify-center text-center relative overflow-hidden px-6">
            <div class="z-10 relative">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 animate-pulse">
                    Innovate. Create. Elevate.
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
                    We craft cutting-edge digital experiences that blend artistry with technology for maximum impact.
                </p>
                <a href="#contact" class="bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg">
                    Start Your Project
                </a>
            </div>
            <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10 animate-bounce">
                <svg class="w-8 h-8 text-cyan-400 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </div>
        </section>

        <section id="about" class="py-20 bg-gray-800/50 backdrop-blur-sm px-6">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-6 text-cyan-300">About Us</h2>
                <p class="text-lg text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed">
                    We are a passionate team of designers, developers, and strategists dedicated to pushing the boundaries of digital interaction. We believe in the power of thoughtful design and robust technology to solve problems and create meaningful connections. Our process is collaborative, transparent, and focused on delivering exceptional results.
                </p>
                 <div class="flex flex-wrap justify-center gap-8 mt-10">
                    <div class="p-6 bg-gray-700/50 rounded-lg w-64 text-center border border-cyan-700/30 hover:border-cyan-500 transition duration-300 transform hover:-translate-y-1">
                        <div class="w-16 h-16 bg-cyan-500 rounded-full mx-auto mb-4 flex items-center justify-center text-gray-900 font-bold text-2xl">[ V ]</div>
                        <h3 class="font-semibold text-xl mb-2 text-cyan-400">Vision</h3>
                        <p class="text-gray-400 text-sm">Driving innovation through forward-thinking design.</p>
                    </div>
                    <div class="p-6 bg-gray-700/50 rounded-lg w-64 text-center border border-cyan-700/30 hover:border-cyan-500 transition duration-300 transform hover:-translate-y-1">
                         <div class="w-16 h-16 bg-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center text-gray-900 font-bold text-2xl">[ E ]</div>
                        <h3 class="font-semibold text-xl mb-2 text-purple-400">Expertise</h3>
                        <p class="text-gray-400 text-sm">Leveraging cutting-edge tech for robust solutions.</p>
                    </div>
                     <div class="p-6 bg-gray-700/50 rounded-lg w-64 text-center border border-cyan-700/30 hover:border-cyan-500 transition duration-300 transform hover:-translate-y-1">
                        <div class="w-16 h-16 bg-teal-500 rounded-full mx-auto mb-4 flex items-center justify-center text-gray-900 font-bold text-2xl">[ C ]</div>
                        <h3 class="font-semibold text-xl mb-2 text-teal-400">Collaboration</h3>
                        <p class="text-gray-400 text-sm">Working closely with clients for shared success.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="py-20 px-6">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-cyan-300">Our Services</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-cyan-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[UI]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Modern UI/UX Design</h3>
                        <p class="text-gray-400">Creating intuitive, beautiful, and user-centric interfaces that engage and delight.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-purple-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[3D]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Interactive 3D/WebGL</h3>
                        <p class="text-gray-400">Developing immersive web experiences using Three.js and WebGL technologies.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-teal-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-teal-500 to-green-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[P5]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Creative Coding</h3>
                        <p class="text-gray-400">Utilizing p5.js for generative art, data visualization, and unique interactive elements.</p>
                    </div>
                     <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-yellow-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[W]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Web Development</h3>
                        <p class="text-gray-400">Building responsive, performant, and scalable websites and web applications.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-red-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[S]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Strategy & Consulting</h3>
                        <p class="text-gray-400">Providing expert guidance to align digital solutions with business goals.</p>
                    </div>
                     <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-transparent hover:border-indigo-500 transition duration-300 transform hover:scale-105">
                        <div class="w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg mb-4 flex items-center justify-center text-xl font-bold mx-auto">[A]</div>
                        <h3 class="text-2xl font-semibold mb-3 text-white">Animation & Motion</h3>
                        <p class="text-gray-400">Adding life to interfaces with smooth animations and engaging motion design.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="py-20 bg-gray-800/50 backdrop-blur-sm px-6">
            <div class="container mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-cyan-300">Featured Work</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="group relative overflow-hidden rounded-lg shadow-lg aspect-w-16 aspect-h-9 bg-gray-700">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
                         <div class="flex items-center justify-center h-full text-gray-400 text-xl">[Project Visual Placeholder 1]</div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-black/60">
                            <h3 class="text-xl font-semibold text-white mb-1">Project Title One</h3>
                            <p class="text-sm text-cyan-300">UI/UX, WebGL</p>
                        </div>
                    </div>
                    <div class="group relative overflow-hidden rounded-lg shadow-lg aspect-w-16 aspect-h-9 bg-gray-700">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
                         <div class="flex items-center justify-center h-full text-gray-400 text-xl">[Project Visual Placeholder 2]</div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-black/60">
                            <h3 class="text-xl font-semibold text-white mb-1">Project Title Two</h3>
                            <p class="text-sm text-purple-300">Creative Coding, p5.js</p>
                        </div>
                    </div>
                    <div class="group relative overflow-hidden rounded-lg shadow-lg aspect-w-16 aspect-h-9 bg-gray-700">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
                        <div class="flex items-center justify-center h-full text-gray-400 text-xl">[Project Visual Placeholder 3]</div>
                        <div class="absolute inset-0 p-6 flex flex-col justify-end opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-black/60">
                            <h3 class="text-xl font-semibold text-white mb-1">Project Title Three</h3>
                            <p class="text-sm text-teal-300">Web Development, Animation</p>
                        </div>
                    </div>
                    </div>
                 <div class="text-center mt-12">
                     <a href="#" class="text-cyan-400 hover:text-cyan-300 border border-cyan-400 hover:bg-cyan-400/10 rounded-full py-2 px-6 transition duration-300">
                        View All Projects
                     </a>
                 </div>
            </div>
        </section>

        <section id="testimonials" class="py-20 px-6">
            <div class="container mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-cyan-300">What Our Clients Say</h2>
                <div class="relative max-w-3xl mx-auto">
                    <div class="bg-gray-800 p-8 rounded-xl shadow-lg relative border border-purple-600/50">
                         <svg class="absolute top-4 left-4 w-8 h-8 text-purple-500 opacity-50" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"> <path d="M9.333 8h-2.667v-4h2.667v4zM14 16h-10.667v10.667h10.667v-10.667zM28 8h-2.667v-4h2.667v4zM32.667 16h-10.667v10.667h10.667v-10.667z"></path> </svg>
                        <blockquote class="text-lg italic text-gray-300 mb-4">
                           "Working with [Your Brand Name] was a game-changer. Their creativity and technical expertise resulted in a product that exceeded all our expectations. Highly recommended!"
                        </blockquote>
                        <cite class="not-italic font-semibold text-white">
                            - Client Name, CEO of Company
                        </cite>
                         <svg class="absolute bottom-4 right-4 w-8 h-8 text-purple-500 opacity-50 transform rotate-180" fill="currentColor" viewBox="0 0 32 32" aria-hidden="true"> <path d="M9.333 8h-2.667v-4h2.667v4zM14 16h-10.667v10.667h10.667v-10.667zM28 8h-2.667v-4h2.667v4zM32.667 16h-10.667v10.667h10.667v-10.667z"></path> </svg>
                    </div>
                    </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-gradient-to-b from-gray-800/50 to-gray-900 px-6">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-cyan-300">Get In Touch</h2>
                <p class="text-center text-gray-300 mb-12">
                    Ready to start your next project or just want to say hello? Send us a message!
                </p>
                <form action="#" method="POST" class="space-y-6">
                     <div>
                        <label for="name" class="block text-sm font-medium text-cyan-400 mb-1">Name</label>
                        <input type="text" name="name" id="name" required autocomplete="name"
                               class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:ring-cyan-500 focus:border-cyan-500 text-gray-100 placeholder-gray-500 transition duration-300">
                    </div>
                     <div>
                        <label for="email" class="block text-sm font-medium text-cyan-400 mb-1">Email</label>
                        <input type="email" name="email" id="email" required autocomplete="email"
                               class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:ring-cyan-500 focus:border-cyan-500 text-gray-100 placeholder-gray-500 transition duration-300">
                    </div>
                     <div>
                        <label for="message" class="block text-sm font-medium text-cyan-400 mb-1">Message</label>
                        <textarea name="message" id="message" rows="5" required
                                  class="w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:ring-cyan-500 focus:border-cyan-500 text-gray-100 placeholder-gray-500 transition duration-300"></textarea>
                    </div>
                    <div class="text-center">
                         <button type="submit"
                                class="bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg">
                            Send Message
                         </button>
                    </div>
                </form>

                <div class="mt-16 text-center text-gray-400">
                    <p>Or reach us directly:</p>
                    <p class="mt-2">
                        <a href="mailto:info@yourbrand.com" class="hover:text-cyan-400 transition duration-300">info@yourbrand.com</a> |
                        <a href="tel:+1234567890" class="hover:text-cyan-400 transition duration-300">+1 (234) 567-890</a>
                    </p>
                     <p class="mt-1">123 Design Street, Tech City, 10001</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 py-8 px-6 mt-10 border-t border-gray-700/50">
        <div class="container mx-auto text-center text-gray-500">
            <div class="mb-4">
                <a href="#" class="inline-block mx-2 hover:text-cyan-400 transition duration-300">[FB]</a>
                 <a href="#" class="inline-block mx-2 hover:text-cyan-400 transition duration-300">[TW]</a>
                 <a href="#" class="inline-block mx-2 hover:text-cyan-400 transition duration-300">[LI]</a>
                 <a href="#" class="inline-block mx-2 hover:text-cyan-400 transition duration-300">[GH]</a>
            </div>
            <p>&copy; <span id="current-year">2025</span> YourBrand. All rights reserved.</p> <p class="text-sm mt-1">Designed & Built with <span class="text-red-500">&hearts;</span> and Modern Tech</p>
        </div>
    </footer>


    <script>
        // Wrap everything in DOMContentLoaded to ensure HTML is parsed and libraries might be ready
        document.addEventListener('DOMContentLoaded', () => {

            // --- General UI Enhancements ---

            // Mobile Menu Toggle
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuButton && mobileMenu) {
                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
                // Close menu when a link is clicked
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        // Check if it's an internal link before potentially closing
                        const href = link.getAttribute('href');
                         if (href && href.startsWith('#')) {
                              mobileMenu.classList.add('hidden');
                         }
                         // If it's not an internal link (e.g., external or contact button acting like a link),
                         // you might still want to close it depending on UX preference.
                         // For this example, we only explicitly close for internal # links.
                    });
                });
            } else {
                console.warn("Mobile menu button or menu itself not found.");
            }

            // Update Footer Year
            const yearSpan = document.getElementById('current-year');
            if (yearSpan) {
                try {
                    yearSpan.textContent = new Date().getFullYear();
                } catch(e) {
                    console.error("Could not set footer year:", e);
                     // Keep the default year from HTML as fallback
                }
            } else {
                 console.warn("Footer year span not found.");
            }

            // Smooth Scrolling for internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    // Ensure it's a valid internal link before trying to scroll
                    if (href && href.startsWith('#') && href.length > 1) {
                         try {
                            const targetElement = document.querySelector(href);
                            if (targetElement) {
                                e.preventDefault(); // Prevent default only if target exists
                                targetElement.scrollIntoView({
                                    behavior: 'smooth'
                                });
                            } else {
                                console.warn(`Smooth scroll target "${href}" not found.`);
                            }
                         } catch(err) {
                            console.error(`Error finding or scrolling to "${href}":`, err);
                         }
                    }
                });
            });

            // Scroll Reveal Animation (using Intersection Observer)
            try {
                const sections = document.querySelectorAll('section'); // Target all sections
                 if(sections.length === 0) {
                    console.warn("No sections found for scroll reveal.");
                 } else {
                    sections.forEach(section => section.classList.add('section-hidden')); // Start hidden

                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('section-visible');
                                entry.target.classList.remove('section-hidden');
                                // Optional: Unobserve after revealing to save resources
                                // observer.unobserve(entry.target);
                            }
                            // Optional: Hide again when scrolling out of view (can cause layout shifts/performance issues)
                            // else if (!entry.target.classList.contains('section-hidden')) { // Check if not already hidden
                            //     entry.target.classList.remove('section-visible');
                            //     entry.target.classList.add('section-hidden');
                            // }
                        });
                    }, {
                        root: null, // relative to the viewport
                        threshold: 0.1, // trigger when 10% visible
                        // rootMargin: '0px 0px -50px 0px' // Optional: trigger slightly before it enters viewport
                    });

                    sections.forEach(section => {
                        observer.observe(section);
                    });
                 }
            } catch (e) {
                console.error("Intersection Observer setup failed:", e);
            }


            // --- Three.js Setup ---
            const threeContainer = document.getElementById('threejs-canvas-container');
            // Check if THREE is loaded (it might not be immediately available even with DOMContentLoaded)
            function initializeThreeJS() {
                if (typeof THREE !== 'undefined' && threeContainer) {
                    console.log("Three.js loaded, initializing scene.");
                    let scene, camera, renderer, particles;
                    const particleCount = 5000; // More particles
                    let animationFrameId = null; // To store the animation frame ID

                    function initThree() {
                        // Scene
                        scene = new THREE.Scene();

                        // Camera
                        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                        camera.position.z = 20; // Move camera further back

                        // Renderer
                        try {
                             renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true }); // alpha:true for transparent bg
                            renderer.setSize(window.innerWidth, window.innerHeight);
                            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Optimize for high DPI screens
                            threeContainer.appendChild(renderer.domElement);
                        } catch (e) {
                             console.error("Failed to initialize Three.js WebGL Renderer:", e);
                             return; // Stop if renderer fails
                        }


                        // Particles
                        const geometry = new THREE.BufferGeometry();
                        const positions = new Float32Array(particleCount * 3);

                        for (let i = 0; i < particleCount * 3; i++) {
                            // Position particles within a larger sphere volume
                             positions[i] = (Math.random() - 0.5) * 40; // Spread them out even more
                        }

                        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

                        const material = new THREE.PointsMaterial({
                            size: 0.035, // Slightly larger particles
                            color: 0x06b6d4, // Cyan color (keep)
                            sizeAttenuation: true,
                            transparent: true,
                            opacity: 0.6, // Slightly less opaque
                            blending: THREE.AdditiveBlending // Brighter where particles overlap
                        });

                        particles = new THREE.Points(geometry, material);
                        scene.add(particles);

                        // Add subtle ambient light
                        // const ambientLight = new THREE.AmbientLight(0x404040, 0.5); // Soft white light
                        // scene.add(ambientLight);

                        // Animation Loop
                        animateThree();

                         // Handle Window Resize
                        window.addEventListener('resize', onWindowResizeThree, false);
                    }

                    function animateThree() {
                        animationFrameId = requestAnimationFrame(animateThree); // Store the ID

                        // Subtle animation
                        const time = Date.now() * 0.00005; // Even slower rotation
                        if (particles) {
                            particles.rotation.x = time * 0.25;
                            particles.rotation.y = time * 0.2;
                        }

                        if (renderer && scene && camera) {
                             renderer.render(scene, camera);
                        }
                    }

                    function onWindowResizeThree() {
                         if (camera && renderer) {
                            camera.aspect = window.innerWidth / window.innerHeight;
                            camera.updateProjectionMatrix();
                            renderer.setSize(window.innerWidth, window.innerHeight);
                            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                         }
                    }

                    // Clean up function (optional but good practice if re-initializing)
                    // function disposeThree() {
                    //     window.removeEventListener('resize', onWindowResizeThree);
                    //     if (animationFrameId) cancelAnimationFrame(animationFrameId);
                    //     if (renderer) renderer.dispose();
                    //     if (scene) { /* dispose geometries, materials, textures */ }
                    //     // Clear variables
                    //     scene = null; camera = null; renderer = null; particles = null;
                    //     threeContainer.innerHTML = ''; // Remove canvas
                    // }

                    initThree();

                } else {
                     // If THREE is not ready, wait a bit and try again
                    console.warn('Three.js not ready yet, retrying in 200ms...');
                    setTimeout(initializeThreeJS, 200);
                }
            }
             if (!threeContainer) {
                 console.warn('Three.js container not found.');
             } else {
                  initializeThreeJS(); // Start the check/initialization process
             }


            // --- p5.js Setup ---
            const p5Container = document.getElementById('p5js-canvas-container');
            // Check if p5 is loaded
            function initializeP5js() {
                if (typeof p5 !== 'undefined' && p5Container) {
                     console.log("p5.js loaded, initializing sketch.");
                     let p5Instance = null; // To hold the p5 instance

                     const sketch = (p) => {
                        let stars = [];
                        const numStars = Math.min(800, Math.floor((p.windowWidth * p.windowHeight) / 2000)); // Adjust density based on screen size
                        let speed;

                        p.setup = () => {
                            let canvas = p.createCanvas(p.windowWidth, p.windowHeight);
                            canvas.parent(p5Container); // Attach canvas to the container
                            canvas.style('display', 'block'); // Ensure block display
                            stars = []; // Clear array before populating
                            for (let i = 0; i < numStars; i++) {
                                stars.push(new Star(p)); // Use push for clarity
                            }
                             p.noStroke(); // Cleaner look
                        };

                        p.draw = () => {
                            // Map mouseX to speed, default to center if no mouse interaction yet
                            let currentMouseX = p.mouseX || p.width / 2;
                            speed = p.map(currentMouseX, 0, p.width, 0.1, 1.5); // Slightly increased max speed potential
                            p.clear(); // Use clear() instead of background(0,0) for potentially better performance on transparent canvas

                            p.translate(p.width / 2, p.height / 2); // Center the starfield

                            p.fill(150, 150, 200, 180); // Set fill once before the loop

                            for (let i = 0; i < stars.length; i++) {
                                stars[i].update(p, speed);
                                stars[i].show(p);
                            }
                        };

                         p.windowResized = () => {
                            p.resizeCanvas(p.windowWidth, p.windowHeight);
                            // Re-initialize stars on resize to adjust density and position
                            const newNumStars = Math.min(800, Math.floor((p.windowWidth * p.windowHeight) / 2000));
                             stars = []; // Clear existing stars
                             for (let i = 0; i < newNumStars; i++) {
                                 stars.push(new Star(p));
                             }
                        };
                    };

                    // Run p5 sketch in instance mode
                     p5Instance = new p5(sketch);

                    // Star class for p5 sketch (needs access to p5 instance methods)
                    class Star {
                        constructor(p) {
                            this.p = p; // Store p5 instance reference
                            this.respawn(); // Initialize position etc.
                        }

                        respawn() {
                             this.x = this.p.random(-this.p.width, this.p.width);
                             this.y = this.p.random(-this.p.height, this.p.height);
                             this.z = this.p.random(this.p.width); // Z position for depth
                             this.pz = this.z; // Previous Z for line effect
                        }

                        update(p, speed) { // p is passed for consistency, could use this.p
                            this.z = this.z - speed * 5; // Adjust speed multiplier as needed
                            if (this.z < 1) {
                                this.respawn(); // Reset star when it goes past camera
                            }
                        }

                        show(p) { // p is passed for consistency
                            let sx = p.map(this.x / this.z, 0, 1, 0, p.width);
                            let sy = p.map(this.y / this.z, 0, 1, 0, p.height);

                            let r = p.map(this.z, 0, p.width, 5, 0); // Size based on depth (slightly larger max size)

                            // Check if calculated radius is valid before drawing
                            if (r > 0) {
                                 p.ellipse(sx, sy, r, r);
                            }

                            // Optional: Add subtle trails (can be performance intensive)
                            // let px = p.map(this.x / this.pz, 0, 1, 0, p.width);
                            // let py = p.map(this.y / this.pz, 0, 1, 0, p.height);
                            // p.stroke(150, 150, 200, 50); // Very faint stroke
                            // p.strokeWeight(1);
                            // p.line(px, py, sx, sy);
                            // p.noStroke(); // Reset stroke for next ellipse

                            this.pz = this.z;
                        }
                    }

                } else {
                     // If p5 is not ready, wait a bit and try again
                    console.warn('p5.js not ready yet, retrying in 200ms...');
                    setTimeout(initializeP5js, 200);
                }
            }
             if (!p5Container) {
                 console.warn('p5.js container not found.');
             } else {
                initializeP5js(); // Start the check/initialization process
             }


        }); // End DOMContentLoaded
    </script>

</body>
</html>